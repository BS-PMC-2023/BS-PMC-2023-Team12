pipeline{
    agent{
        docker{
            image 'node:lts-buster-slim'
            args '-p 5000:5000'
        }
    }
    environment{
        CI='true'
    }
    stages{
//         stage('build'){
//             steps{
//                 sh "ls"
//                 sh "cd backend"
//                 sh "ls"
//                 sh "npm install"
//             }
//         }
//         stage('test'){
//             steps{
//                 sh "ls"
//                 sh "cd frontend"
//                 sh "ls"
//                 sh "npm run test"
//             }
//         }
        stage('Node.js Install') {
      steps {
        sh 'cd backend && npm install'
      }
    }
        
    stage('React Install') {
      steps {
        sh 'cd frontend && npm install'
      }
    }

    stage('Node.js Test') {
      steps {
        sh 'cd frontend && npm run test'
      }
    }
    }
}
